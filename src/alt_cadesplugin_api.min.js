!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.AltCadesPlugin=e(t.$)}(this,function(t){var e,n,r=function(t,e){return function(){return t.apply(e,arguments)}},i=[].slice;return t&&!e&&(e=t),n=function(){function t(t){null==t&&(t={}),this.get=r(this.get,this),this.getParam=r(this.getParam,this),this.createObject=r(this.createObject,this),this.nonNpapiInit=r(this.nonNpapiInit,this),t.timeout&&(this.timeout=t.timeout),this.cadesplugin.JSModuleVersion="2.0",this.cadesplugin.async_spawn=this.asyncSpawn,this.cadesplugin.set=function(t){return function(e){return t.pluginObject=e}}(this),window.cadesplugin=this.cadesplugin}return t.prototype.checked=!1,t.prototype.cadesplugin={},t.prototype.pluginObject=null,t.prototype.timeout=2e4,t.prototype.asyncSpawn=function(t){var e,n,r,i;return e=function(t,e){var u,o,c;try{c=n[t](e)}catch(o){return u=o,Promise.reject(u)}return c.done?c.value:Promise.resolve(c.value).then(r,i)},n=t(Array.prototype.slice.call(arguments,1)),r=e.bind(e,"next"),i=e.bind(e,"throw"),r()},t.prototype.nonNpapiInit=function(){var t,n,r,i;return e("head").append('<script src="chrome-extension://iifchhfnnmpdbibifmljnfjhpififfog/nmcades_plugin_api.js"></script>'),t=e.Deferred(),window.postMessage("cadesplugin_echo_request","*"),i=function(e){return function(){return e.checked=!0,t.resolve()}}(this),n=function(e){return function(n){return e.checked=!0,t.reject(n)}}(this),r=function(t){return"cadesplugin_loaded"===t.data?cpcsp_chrome_nmcades.check_chrome_plugin(i,n):void 0},window.addEventListener("message",r,!1),setTimeout(function(e){return function(){return e.checked?void 0:t.reject("timeout")}}(this),this.timeout),t},t.prototype.createObject=function(t){var n;return n=e.Deferred(),this.pluginObject.CreateObjectAsync(t).then(function(t){return n.resolve(t)},function(t){return n.reject(t)}),n},t.prototype.getParam=function(t,n){var r,i,u;return u=function(t,e){var n;return"object"==typeof e?t[e.paramName].apply(null,e.options):n=t[e]},i=e.Deferred(),r="string"==typeof t?this.pluginObject.CreateObjectAsync(t).then(function(t){return u(t,n)}):u(t,n),r.then(function(t){return i.resolve(t)},function(t){return i.reject(t)}),i},t.prototype.get=function(){var t,e,n;return e=arguments[0],n=arguments[1],t=3<=arguments.length?i.call(arguments,2):[],this.getParam(e,n).then(function(e){return function(n){return t.length>0?(t.unshift(n),e.get.apply(e,t)):n}}(this))},t}()});