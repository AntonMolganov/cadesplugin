!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.AltCadesPlugin=e(t.$)}(this,function(t){var e,n,i=function(t,e){return function(){return t.apply(e,arguments)}},r=[].slice;return t&&!e&&(e=t),n=function(){function t(t){return null==t&&(t={}),this.get=i(this.get,this),this.getParam=i(this.getParam,this),this.nonNpapiInit=i(this.nonNpapiInit,this),window.altCadespluginApiInstance?window.altCadespluginApiInstance:(t.timeout&&(this.timeout=t.timeout),this.cadesplugin.JSModuleVersion="2.0",this.cadesplugin.async_spawn=this.asyncSpawn,this.cadesplugin.set=function(t){return function(e){return t.pluginObject=e}}(this),window.cadesplugin=this.cadesplugin,void(window.altCadespluginApiInstance=this))}return t.prototype.checked=!1,t.prototype.cadesplugin={},t.prototype.pluginObject=null,t.prototype.timeout=2e4,t.prototype.asyncSpawn=function(t){var e,n,i,r;return e=function(t,e){var u,o,c;try{c=n[t](e)}catch(o){return u=o,Promise.reject(u)}return c.done?c.value:Promise.resolve(c.value).then(i,r)},n=t(Array.prototype.slice.call(arguments,1)),i=e.bind(e,"next"),r=e.bind(e,"throw"),i()},t.prototype.nonNpapiInit=function(){var t,n,i,r;return this.checked?e.when():(e("head").append('<script src="chrome-extension://iifchhfnnmpdbibifmljnfjhpififfog/nmcades_plugin_api.js"></script>'),t=e.Deferred(),window.postMessage("cadesplugin_echo_request","*"),r=function(e){return function(){return e.checked=!0,t.resolve()}}(this),n=function(e){return function(n){return e.checked=!0,t.reject(n)}}(this),i=function(t){return"cadesplugin_loaded"===t.data?setTimeout(function(){return cpcsp_chrome_nmcades.check_chrome_plugin(r,n)},0):void 0},window.addEventListener("message",i,!1),setTimeout(function(e){return function(){return e.checked?void 0:t.reject("timeout")}}(this),this.timeout),t)},t.prototype.getParam=function(t,n){var i,r,u;return u=function(t,e){var n;return"object"==typeof e?t[e.method].apply(null,e.args):n=t[e]},r=e.Deferred(),i="string"==typeof t?this.pluginObject.CreateObjectAsync(t).then(function(t){return n?u(t,n):t}):u(t,n),i.then(function(t){return r.resolve(t)},function(t){return r.reject(t)}),r},t.prototype.get=function(){var t,e,n;return e=arguments[0],n=arguments[1],t=3<=arguments.length?r.call(arguments,2):[],this.getParam(e,n).then(function(e){return function(n){return t.length>0?(t.unshift(n),e.get.apply(e,t)):n}}(this))},t}()});